# mysql最佳实践
用自己话讲一遍知识，用自己的知识形成最佳实践
 - 关系型数据库，需要提前设计表结构，强调acid，采用结构化查询语言进行查询，mysql、oracle等
 - 非关系型数据库，设计比较灵活，无需提前设计，redis、mongodb等
 - mysql数据一般存硬盘，也可以设置存内存
 - innodb，b+索引，聚簇索引，支持事务，最小粒度锁是行锁，
 - myisam，非聚簇索引、不支持事务、最小粒度是表锁
 - 聚簇索引，索引和数据在一起
 - 非聚簇索引，索引和数据分离
 - 数据库三大范式，键原子性，依赖于主键，非主键互不依赖
 - char，定长，不足的添加对齐填充 0-255；防分裂好，空间浪费多，适合稳定数据
 - varchar(10)，varchar(50)，0-65535，不填充，虽都可变，但是上限不同。省空间，易分裂/合并，适合动态数据
 - 页分裂，页满分两页，费时费空间，varchar更新变长容易触发，char也间接会导致页分裂
 - 页合并，页空合一起，也费资源，varchar删除后空得多容易合并，char删了也占位，合并少一些
 - 页分裂 & 页合并的原因，随机插入、更新膨胀、大量删除
 - mysql sql执行过程，客户端-缓存（看能否利用缓存）-解析器（语法分析和语义分析）-优化（生成执行计划）-执行引擎（执行sql）-存储引擎
 - mysql 存储格式，compact（默认，平衡空间与性能）、redundant（老格式，浪费但稳定）、dynamic（灵活易分裂）、compressed（最小化存储，适合归档数据）
